<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Playlist do canal M4SONIC</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <h1>Playlist do canal M4SONIC</h1>
    <p>Confira as playlists disponíveis e clique em "Ouvir" para começar a curtir.</p>

    <div class="playlist-container" id="playlistContainer">
        <!-- Cards de playlist serão inseridos aqui via JavaScript -->
    </div>

    <script src="links.js"></script>
    <script>
        const container = document.getElementById('playlistContainer');

        function createPlaylistCard(playlist) {
            const card = document.createElement('div');
            card.classList.add('playlist-card');

            const title = document.createElement('h3');
            title.textContent = playlist.nome;

            const shortDesc = document.createElement('p');
            shortDesc.classList.add('short-text');
            shortDesc.textContent = playlist.descricao.length > 80
                ? playlist.descricao.substring(0, 80) + '...'
                : playlist.descricao;

            const longDesc = document.createElement('p');
            longDesc.classList.add('long-text');
            longDesc.textContent = playlist.descricao;

            const playButton = document.createElement('a');
            playButton.classList.add('play-button');
            playButton.href = playlist.url;
            playButton.target = '_blank';
            playButton.rel = 'noopener noreferrer';
            playButton.textContent = 'Ouvir';

            card.appendChild(title);
            card.appendChild(shortDesc);
            card.appendChild(longDesc);
            card.appendChild(playButton);

            if (playlist.descricao.length > 80) {
                const toggleButton = document.createElement('button');
                toggleButton.textContent = 'Ler mais...';
                toggleButton.classList.add('play-button');
                toggleButton.style.marginTop = '10px';
                toggleButton.style.backgroundColor = '#0069d9'; // cor azul para diferenciar

                toggleButton.addEventListener('click', () => {
                    const isExpanded = longDesc.classList.contains('expanded');
                    if (isExpanded) {
                        longDesc.classList.remove('expanded');
                        toggleButton.textContent = 'Ler mais...';
                    } else {
                        longDesc.classList.add('expanded');
                        toggleButton.textContent = 'Ler menos...';
                    }
                });

                card.appendChild(toggleButton);
            }

            return card;
        }

        // Carrega as playlists do arquivo links.js (array playlists)
        playlists.forEach(playlist => {
            const card = createPlaylistCard(playlist);
            container.appendChild(card);
        });
    </script>
</body>
</html>
